# Aquarius32 TRM

## Memory map

| Address                 |    Width | Description            |
| ----------------------- | -------: | ---------------------- |
| 0x80000000 - 0x8007FFFF | 8/16/32b | RAM (512kB)            |
| 0xFF000000 - 0xFF000FFF |    8/16b | Text RAM (4kB)         |
| 0xFF100000 - 0xFF1007FF |       8b | Character RAM (2kB)    |
| 0xFF200000 - 0xFF203FFF | 8/16/32b | VRAM (16kB)            |
| 0xFF300000 -            |          | Sprite attributes      |
| 0xFF400000 - 0xFF40007F |      16b | Palette (4x16 entries) |
| 0xFF500000              |      32b | ESP CTRL               |
| 0xFF500004              |      32b | ESP DATA               |
| 0xFF500008              |      32b | VCTRL                  |
| 0xFF50000C              |      32b | VSCRX                  |
| 0xFF500010              |      32b | VSCRY                  |
| 0xFF500014              |      32b | VLINE                  |
| 0xFF500018              |      32b | VIRQLINE               |
| 0xFFFFF800 - 0xFFFFFFFF | 8/16/32b | Boot ROM (2kB)         |

- TODO: Audio

## Sprite attributes

| 31:25 | 24:16 | 15:8 | 7:0 |
| :---: | :---: | :--: | :-: |
|   -   |   Y   |  -   |  X  |

| 31-16 |   15   |    14    |  13:12  |    11     |   10   |   9    |       8:0        |
| :---: | :----: | :------: | :-----: | :-------: | :----: | :----: | :--------------: |
|   -   | Enable | Priority | Palette | Height:16 | V-flip | H-flip | Tile index (8:0) |

# Video RAM data

## Tile map

64x32 entries, each with the following format:

| 15  |    14    |  13:12  | 11  |   10   |   9    |       8:0        |
| :-: | :------: | :-----: | :-: | :----: | :----: | :--------------: |
|  -  | Priority | Palette |  -  | V-flip | H-flip | Tile index (8:0) |

## CPU

RISC-V
RAM cache
